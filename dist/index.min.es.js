var commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var nanoDom=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=["input","link","meta","hr","br","source","img"];function r(t,e){if(!((e=(e||"").trim()).length<=0)){for(var n=[],i=0,o=e.charCodeAt(i);o>=65&&o<=90||o>=97&&o<=122||o>=48&&o<=57||58===o||45===o||95===o;)n[1]=(n[1]||"")+e.charAt(i),o=e.charCodeAt(++i);if("="===(e=e.substr(i).trim())[0]){if('"'===(e=e.substr(1).trim())[0]||"'"===e[0]){for(i=1;e[i]!==e[0];)n[2]=(n[2]||"")+e[i],i+=1;e=e.substr(i+1)}else n[2]=e.split(" ")[0],e=e.split(" ").slice(1).join(" ");return t.setAttribute(n[1],n[2]),"class"===n[1]?t.classList.add(n[2]):"title"!==n[1]&&"id"!==n[1]&&"name"!==n[1]||(t[n[1]]=n[2]),r(t,e)}t.setAttribute(n[1],n[1]),r(t,e)}}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=null;if(e<0&&(e=t.indexOf("<")),e>=0&&e<t.length){(n=[]).index=e,"/"===t[e+=1]&&(n[1]="/",e+=1);for(var r=t.charCodeAt(e);r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||58===r||45===r||95===r;)n[2]=(n[2]||"")+t.charAt(e),r=t.charCodeAt(++e);if(!n[2])return i(t,t.indexOf("<",e));for(var o=e;e<t.length&&">"!==t[e];)e++;if(e<t.length){var s=e;"/"===t[e-1]&&(n[4]="/",s=e-1),s-o>1&&(n[3]=t.substring(o,s))}n[0]=t.substring(n.index,e+1)}return n}var o=[];function s(t,e,a){for(var l=void 0;l=i(e);){if(l[1]){if(0===o.length)throw new Error("Unexpected closing tag "+l[2]);var u=o.pop();if(u!==l[2])throw new Error("Unexpected closing tag "+l[2]+"; expected "+u);var c=e.substring(0,l.index);return c&&a.appendChild(t.createTextNode(c)),e.substr(l.index+l[0].length)}var h=e.substring(0,l.index);h&&a.appendChild(t.createTextNode(h));var d=t.createElement(l[2]);r(d,l[3]),!l[4]&&n.indexOf(l[2])<0?(o.push(l[2]),e=s(t,e.substr(l.index+l[0].length),d)):e=e.substr(l.index+l[0].length),a.appendChild(d)}if(o.length>0)throw new Error("Unclosed tag"+(o.length>1?"s ":" ")+o.join(", "));return e.length>0&&a.appendChild(t.createTextNode(e)),e}var a=function(t){return new RegExp("(^| )"+t+"( |$)")},l=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,t[r])};function u(t){this.element=t}function c(t,e){var n=[];return t.children.forEach(function(t){n=n.concat(e(t)?t:[],c(t,e))}),n}function h(t,e){this.nodeType=1,this.nodeName=t,this.tagName=t,this.className="",this.childNodes=[],this.style={},this.ownerDocument=e,this.parentNode=null,this.attributes=[]}function d(t,e){this.nodeValue=t,this.nodeType=3,this.parentNode=null,this.ownerDocument=e}u.prototype={add:function(){l(arguments,function(t){this.contains(t)||(this.element.className+=this.element.className.length>0?" "+t:t)},this)},remove:function(){l(arguments,function(t){this.element.className=this.element.className.replace(a(t),"")},this)},toggle:function(t){return this.contains(t)?(this.remove(t),!1):(this.add(t),!0)},contains:function(t){return a(t).test(this.element.className)},replace:function(t,e){this.remove(t),this.add(e)}},Object.defineProperty(h.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return 1===t.nodeType})}}),Object.defineProperty(h.prototype,"classList",{get:function(){return new u(this)}}),Object.defineProperty(h.prototype,"innerHTML",{get:function(){return this.childNodes.map(function(t){return 1===t.nodeType?t.outerHTML:t.nodeValue}).join("")},set:function(t){this.childNodes=[],o=[],s(this.ownerDocument,t,this)}}),Object.defineProperty(h.prototype,"outerHTML",{get:function(){var t=this;"[object Array]"!==Object.prototype.toString.call(this.attributes)&&(this.attributes=Object.keys(this.attributes).map(function(e){return{name:e,value:t.attributes[e]}}),this.attributes.forEach(function(e,n,r){t.attributes[e.name]=e.value}));var e=this.attributes.map(function(t){return t.name+'="'+(void 0===t.value?"":t.value)+'"'}).join(" ");return n.indexOf(this.tagName)>=0?"<"+this.tagName+(e?" "+e:"")+"/>":"<"+this.tagName+(e?" "+e:"")+">"+this.innerHTML+"</"+this.tagName+">"}}),h.prototype.appendChild=function(t){this.childNodes.push(t),t.parentNode=this},h.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)},h.prototype.setAttribute=function(t,e){var n={name:t,value:e};this.attributes[t]?this.attributes[this.attributes.indexOf(this.attributes[t])]=n:this.attributes.push(n),this.attributes[t]=n,"class"===t&&(this.className=e)},h.prototype.removeAttribute=function(t){var e=this.attributes.indexOf(this.attributes[t]);e>=0&&this.attributes.splice(e,1),delete this.attributes[t]},h.prototype.getAttribute=function(t){return this.attributes[t]&&this.attributes[t].value||""},h.prototype.replaceChild=function(t,e){var n=this.childNodes.indexOf(e);this.childNodes.splice(n,1,t),t.parentNode=this},h.prototype.addEventListener=function(){},h.prototype.removeEventListener=function(){},h.prototype.getElementsByTagName=function(t){return c(this,function(e){return e.tagName===t})},h.prototype.getElementsByClassName=function(t){return c(this,function(e){return e.classList.contains(t)})},h.prototype.querySelectorAll=function(t){return c(this,function(e){return function(t,e){var n=e.split(/\s*,\s*/);for(var r in n)if(n[r].match(/(?:([\w*:_-]+)?\[([\w:_-]+)(?:(\$|\^|\*)?=(?:(?:'([^']*)')|(?:"([^"]*)")))?\])|(?:\.([\w_-]+))|([\w*:_-]+)/g)){var i=RegExp.$4||RegExp.$5;if(RegExp.$7===t.tagName||"*"===RegExp.$7)return!0;if(RegExp.$6&&t.classList.contains(RegExp.$6))return!0;if(RegExp.$1&&t.tagName!==RegExp.$1)continue;var o=t.getAttribute(RegExp.$2);if(!RegExp.$3&&!i&&void 0!==t.attributes[RegExp.$2])return!0;if(!RegExp.$3&&i&&o===i)return!0;if(RegExp.$3&&"^"===RegExp.$3&&0===o.indexOf(i))return!0;if(RegExp.$3&&"$"===RegExp.$3&&o.match(new RegExp(i+"$")))return!0;if(RegExp.$3&&"*"===RegExp.$3&&o.indexOf(i)>=0)return!0}return!1}(e,t)})},h.prototype.getElementById=function(t){return c(this,function(e){return e.getAttribute("id")===t})[0]},t.exports=function t(e){var n=this;if(!this instanceof t)return new t(e);this.createElement=function(t){return new h(t,n)},this.createTextNode=function(t){return new d(t,n)},this.getElementById=h.prototype.getElementById.bind(this),this.getElementsByTagName=h.prototype.getElementsByTagName.bind(this),this.getElementsByClassName=h.prototype.getElementsByClassName.bind(this),this.querySelectorAll=h.prototype.querySelectorAll.bind(this),this.addEventListener=function(){},this.removeEventListener=function(){},this.documentElement=this.createElement("html"),this.childNodes=[this.documentElement],this.children=[this.documentElement],this.nodeType=9,"string"!=typeof e||e.trim().indexOf("<!DOCTYPE")<0?(this.head=this.createElement("head"),this.body=this.createElement("body"),this.documentElement.appendChild(this.head),this.documentElement.appendChild(this.body),"string"==typeof e&&(o=[],s(this,e,this.body))):(e.match(/<html([^>]*)>/),RegExp.$1&&r(this.documentElement,RegExp.$1),e=e.replace(/<!DOCTYPE[^>]+>[\n\s]*<html([^>]*)>/g,"").replace(/<\/html>/g,""),o=[],s(this,e,this.documentElement),this.head=this.getElementsByTagName("head")[0],this.body=this.getElementsByTagName("body")[0])},t.exports.DOMElement=h,t.exports.DOMText=d,void 0!==commonjsGlobal&&(commonjsGlobal.HTMLElement=h)});unwrapExports(nanoDom);var nanoDom_1=nanoDom.DOMElement,nanoDom_2=nanoDom.DOMText;let tagKey=0;const NODE_TYPE_TAG=1,NODE_TYPE_TEXT=3;function render(t,e,n={},r={}){return traverseToVdom(t,parseHTMLToDOM(e),n,r)}function parseHTMLToDOM(t){return new nanoDom(t).body.children}function traverseToVdom(t,e,n={},r={}){if(Array.isArray(e))return e.filter(t=>t).map(e=>traverseToVdom(t,e,n,r));if(e){var i,o=e.nodeType,s=e.tagName,a=e.childNodes;if(delete e.parentNode,o==NODE_TYPE_TAG){let o=attrs(e.attributes),l=Object.keys(r).find(t=>s.toLowerCase()===t.toLowerCase());l&&(s=r[l]),Object.keys(o).forEach(function(t){let e=o[t],r=Object.keys(n).find(t=>t===e);r&&(o[t]=n[r],delete n[r])}),a=a.map(t=>{let e=t.nodeValue;return"string"!=typeof e?t:(n[e]&&(t.nodeValue=n[e],delete n[e]),t)}),void 0===o.key&&(o.key="__jsx-tmpl-key-"+ ++tagKey);let u=a.map(e=>traverseToVdom(t,e,n,r));i=t(s,o,u.length>0?u:null)}else o==NODE_TYPE_TEXT&&(i=replacePropsInTextNode(e.nodeValue,n));return i}}const REGEX_ONLY_EMPTY_SPACES=/^\s+$/;function replacePropsInTextNode(t,e){let n=[];return Object.keys(e).forEach(r=>{if(t.toString().includes(r)){let i=t.toString().split(r);i.splice(1,0,e[r]),n=n.concat(i),delete e[r]}}),0===n.length&&(n=[t]),n.map(t=>"string"!=typeof t?t:(t=t.replace("\n","").replace(/\s+/g," "),REGEX_ONLY_EMPTY_SPACES.test(t)?null:t)).filter(t=>t)}function attrs(t){if(isEmptyObject(t))return{};var e={};for(let n,r=0,i=t.length;n=t[r],r<i;r+=1)"class"==n.name?e.className=n.value:"for"==n.name?e.htmlFor=n.value:e[n.name]=n.value;return e}function isEmptyObject(t){return 0===Object.getOwnPropertyNames(t).length}var client={render:render},client_1=client.render;function hash(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}var stringHash=hash;const tmplCache={};function templateValueToJSX(t){if(void 0===t||null===t)return"";if(t instanceof Array){return t.map(t=>templateValueToJSX(t)).join("")}return t.toString()}function getJSXTag(t,e){const n=t.h||t.createElement||t;return function(t,...r){let i="",o=0,s={};for(o=0;o<r.length;o++){let e,n=r[o];if("string"!=typeof n){let t=getPropPlaceholder(n);s[t]=n,e=t}void 0===e&&(e=templateValueToJSX(n)),i+=t[o]+e}return jsxTmplResult(i=(i+=t[o]).trimRight(),s,n,e)}}function jsxTmplResult(t,e,n,r){let i=stringHash(t);if(void 0!==tmplCache[i])return tmplCache[i].fromCache=!0,tmplCache[i];let o=client_1(n,t,e,r).shift();return tmplCache[i]=o,o}let propIncrement=0;function getPropPlaceholder(t){return"[["+((t&&(t.name||t.constructor.name)||typeof t)+"_"+ ++propIncrement)+"]]"}export{getJSXTag};